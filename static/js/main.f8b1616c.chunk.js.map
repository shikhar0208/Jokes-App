{"version":3,"sources":["Joke.js","JokeList.js","App.js","index.js"],"names":["Joke","this","props","votes","id","joke","className","onClick","handleVoting","style","borderColor","getColor","getEmoji","React","Component","JokeList","change","setState","prevState","jokes","map","j","window","localStorage","setItem","JSON","stringify","state","handleClick","isLoading","getJokes","parse","getItem","seenJokes","Set","text","length","axios","get","headers","Accept","res","newJoke","data","has","push","alert","sort","a","b","src","alt","key","defaultProps","numJokes","App","ReactDOM","render","document","getElementById"],"mappings":"6VA+DeA,G,+KA1DX,OAAIC,KAAKC,MAAMC,OAAS,GACf,UACEF,KAAKC,MAAMC,OAAS,GACtB,UACEF,KAAKC,MAAMC,OAAS,EACtB,UACEF,KAAKC,MAAMC,OAAS,EACtB,UACEF,KAAKC,MAAMC,OAAS,EACtB,UACEF,KAAKC,MAAMC,OAAS,EACtB,UAEA,Y,iCAIT,OAAIF,KAAKC,MAAMC,OAAS,GACf,sCACEF,KAAKC,MAAMC,OAAS,GACtB,iBACEF,KAAKC,MAAMC,OAAS,EACtB,eACEF,KAAKC,MAAMC,OAAS,EACtB,8BACEF,KAAKC,MAAMC,OAAS,EACtB,qBACEF,KAAKC,MAAMC,OAAS,EACtB,iBAEA,gB,+BAGD,IAAD,SACmBF,KAAKC,MAAxBE,EADA,EACAA,GAAIC,EADJ,EACIA,KAAMF,EADV,EACUA,MACjB,OACE,yBAAKG,UAAU,QACb,yBAAKA,UAAU,gBACb,uBAAGA,UAAU,kBAAkBC,QAAS,kBAAM,EAAKL,MAAMM,aAAaJ,EAAI,MACxE,0BACEE,UAAU,aACVG,MAAO,CAACC,YAAaT,KAAKU,aAEzBR,GAEL,uBAAGG,UAAU,oBAAoBC,QAAS,kBAAM,EAAKL,MAAMM,aAAaJ,GAAK,OAE/E,yBAAKE,UAAU,aACZD,GAEH,yBAAKC,UAAU,eACb,uBAAGA,UAAWL,KAAKW,mB,GArDVC,IAAMC,Y,iBCInBC,G,wDAIJ,WAAYb,GAAQ,IAAD,8BACjB,cAAMA,IAkCRM,aAAe,SAACJ,EAAIY,GAClB,EAAKC,UACH,SAACC,GAAD,MAAgB,CACdC,MAAOD,EAAUC,MAAMC,KAAI,SAACC,GAAD,OACzBA,EAAEjB,KAAOA,EAAT,eAAmBiB,EAAnB,CAAsBlB,MAAOkB,EAAElB,MAAQa,IAAWK,SAGtD,kBACEC,OAAOC,aAAaC,QAAQ,QAASC,KAAKC,UAAU,EAAKC,MAAMR,YA3ClD,EA+CnBS,YAAc,WACZ,EAAKX,SAAS,CAAEY,WAAW,IAC3B,EAAKC,YA/CL,EAAKH,MAAQ,CACXR,MAAOM,KAAKM,MAAMT,OAAOC,aAAaS,QAAQ,UAAY,MAC1DH,WAAW,GAEb,EAAKI,UAAY,IAAIC,IAAI,EAAKP,MAAMR,MAAMC,KAAI,SAACC,GAAD,OAAOA,EAAEc,SANtC,E,gEASe,IAA5BlC,KAAK0B,MAAMR,MAAMiB,QAAcnC,KAAK6B,a,8JAKlCX,EAAQ,G,YACLA,EAAMiB,OAAS,I,iCACJC,IAAMC,IAtBd,8BAsB2B,CACjCC,QAAS,CAAEC,OAAQ,sB,OADjBC,E,OAGAC,EAAUD,EAAIE,KAAKtC,KAClBJ,KAAKgC,UAAUW,IAAIF,IACtBvB,EAAM0B,KAAK,CAAEV,KAAMO,EAASvC,MAAO,EAAGC,GAAIqC,EAAIE,KAAKvC,K,uBAGvDH,KAAKgB,UAAS,SAACC,GAAD,MAAgB,CAC5BC,MAAM,GAAD,mBAAMD,EAAUC,OAAUA,GAC/BU,WAAW,MAEbP,OAAOC,aAAaC,QAAQ,QAASC,KAAKC,UAAUP,I,kDAEpD2B,MAAM,EAAD,IACL7C,KAAKgB,SAAS,CAAEY,WAAW,I,+IAqBrB,IAAD,OACHV,EAAQlB,KAAK0B,MAAMR,MAAM4B,MAAK,SAACC,EAAEC,GAAH,OAASA,EAAE9C,MAAQ6C,EAAE7C,SACvD,OAAOF,KAAK0B,MAAME,UAChB,yBAAKvB,UAAU,mBACb,uBAAGA,UAAU,+BACb,wBAAIA,UAAU,kBAAd,eAGF,yBAAKA,UAAU,YACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,kBACZ,qCADF,UAGA,yBACE4C,IAAI,6FACJC,IAAI,mBAEN,4BAAQ7C,UAAU,mBAAmBC,QAASN,KAAK2B,aAAnD,cAIF,yBAAKtB,UAAU,kBACZa,EAAMC,KAAI,SAACf,GAAD,OACT,kBAAC,EAAD,CACE+C,IAAK/C,EAAKD,GACVA,GAAIC,EAAKD,GACTC,KAAMA,EAAK8B,KACXhC,MAAOE,EAAKF,MACZK,aAAc,EAAKA,wB,GApFVK,IAAMC,YAAvBC,EACGsC,aAAe,CACpBC,SAAU,IA2FCvC,QCrFAwC,G,6KATX,OACE,yBAAKjD,UAAU,OACb,kBAAC,EAAD,W,GAJUO,IAAMC,YCCxB0C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.f8b1616c.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Joke.css';\r\n\r\nclass Joke extends React.Component {\r\n  getColor() {\r\n    if (this.props.votes >= 15) {\r\n      return \"#4CAF50\";\r\n    } else if (this.props.votes >= 12) {\r\n      return \"#8BC34A\";\r\n    } else if (this.props.votes >= 9) {\r\n      return \"#CDDC39\";\r\n    } else if (this.props.votes >= 6) {\r\n      return \"#FFEB3B\";\r\n    } else if (this.props.votes >= 3) {\r\n      return \"#FFC107\";\r\n    } else if (this.props.votes >= 0) {\r\n      return \"#FF9800\";\r\n    } else {\r\n      return \"#f44336\";\r\n    }\r\n  }\r\n  getEmoji() {\r\n    if (this.props.votes >= 15) {\r\n      return \"em em-rolling_on_the_floor_laughing\";\r\n    } else if (this.props.votes >= 12) {\r\n      return \"em em-laughing\";\r\n    } else if (this.props.votes >= 9) {\r\n      return \"em em-smiley\";\r\n    } else if (this.props.votes >= 6) {\r\n      return \"em em-slightly_smiling_face\";\r\n    } else if (this.props.votes >= 3) {\r\n      return \"em em-neutral_face\";\r\n    } else if (this.props.votes >= 0) {\r\n      return \"em em-confused\";\r\n    } else {\r\n      return \"em em-angry\";\r\n    }\r\n  }\r\n  render() {\r\n    const {id, joke, votes} = this.props;\r\n    return(\r\n      <div className=\"Joke\">\r\n        <div className=\"Joke-buttons\">\r\n          <i className='fas fa-arrow-up' onClick={() => this.props.handleVoting(id, 1)} />\r\n            <span \r\n              className=\"Joke-votes\"\r\n              style={{borderColor: this.getColor()}}  \r\n            >\r\n              {votes}\r\n            </span>\r\n          <i className='fas fa-arrow-down' onClick={() => this.props.handleVoting(id, -1)} />\r\n        </div>\r\n        <div className=\"Joke-text\">\r\n          {joke}\r\n        </div>\r\n        <div className=\"Joke-smiley\">\r\n          <i className={this.getEmoji()}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport default Joke;","import React from \"react\";\r\nimport Joke from \"./Joke\";\r\nimport axios from \"axios\";\r\nimport \"./JokeList.css\";\r\n\r\nconst API_URL = \"https://icanhazdadjoke.com/\";\r\n\r\nclass JokeList extends React.Component {\r\n  static defaultProps = {\r\n    numJokes: 10,\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\"),\r\n      isLoading: false,\r\n    };\r\n    this.seenJokes = new Set(this.state.jokes.map((j) => j.text));\r\n  }\r\n  componentDidMount() {\r\n    if (this.state.jokes.length === 0) this.getJokes();\r\n  }\r\n\r\n  async getJokes() {\r\n    try {\r\n      let jokes = [];\r\n      while (jokes.length < 10) {\r\n        let res = await axios.get(API_URL, {\r\n          headers: { Accept: \"application/json\" },\r\n        });\r\n        let newJoke = res.data.joke;\r\n        if (!this.seenJokes.has(newJoke)) {\r\n          jokes.push({ text: newJoke, votes: 0, id: res.data.id });\r\n        }\r\n      }\r\n      this.setState((prevState) => ({\r\n        jokes: [...prevState.jokes, ...jokes],\r\n        isLoading: false,\r\n      }));\r\n      window.localStorage.setItem(\"jokes\", JSON.stringify(jokes));\r\n    } catch (e) {\r\n      alert(e);\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n\r\n  handleVoting = (id, change) => {\r\n    this.setState(\r\n      (prevState) => ({\r\n        jokes: prevState.jokes.map((j) =>\r\n          j.id === id ? { ...j, votes: j.votes + change } : j\r\n        ),\r\n      }),\r\n      () =>\r\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\r\n    );\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.setState({ isLoading: true });\r\n    this.getJokes();\r\n  };\r\n\r\n  render() {\r\n    let jokes = this.state.jokes.sort((a,b) => b.votes - a.votes)\r\n    return this.state.isLoading ? (\r\n      <div className=\"JokeList-loader\">\r\n        <i className=\"far fa-8x fa-laugh fa-spin\" />\r\n        <h1 className=\"JokeList-title\">Loading...</h1>\r\n      </div>\r\n    ) : (\r\n      <div className=\"JokeList\">\r\n        <div className=\"JokeList-sidebar\">\r\n          <h1 className=\"JokeList-title\">\r\n            <span>Dad</span> Jokes\r\n          </h1>\r\n          <img\r\n            src=\"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg\"\r\n            alt=\"laughing emoji\"\r\n          />\r\n          <button className=\"JokeList-getmore\" onClick={this.handleClick}>\r\n            New Jokes\r\n          </button>\r\n        </div>\r\n        <div className=\"JokeList-jokes\">\r\n          {jokes.map((joke) => (\r\n            <Joke\r\n              key={joke.id}\r\n              id={joke.id}\r\n              joke={joke.text}\r\n              votes={joke.votes}\r\n              handleVoting={this.handleVoting}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JokeList;\r\n","import React from 'react';\nimport JokeList from './JokeList';\nimport './App.css';\n\nclass App extends React.Component{\n  render() {\n    return(\n      <div className=\"App\">\n        <JokeList />\n      </div>\n    )\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}